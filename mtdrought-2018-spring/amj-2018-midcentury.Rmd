---
title: "Aprilâ€“June Mid-century Outlook"
editor_options: 
  chunk_output_type: console
---

## {- .tabset .tabset-fade .tabset-pills}

```{r setup, include=FALSE}
source("./R/setup.R")
```

### <img src="icons/temperature.svg" width="35px"/> Temperature {-}
```{r midcentury, collapse=TRUE, results='hide', message=FALSE, warning=FALSE, cache=TRUE}

macav2_midcentury <- 
  mtd_get_macav2_monthly_midcentury_summary(months = 1:3,
                                            data_out = "../data/macav2_monthly")

```


```{r midcentury-seasonal-temp-grid, collapse=TRUE, results='hold', message=FALSE, warning=FALSE, cache=TRUE}
macav2_midcentury %>%
  mtd_plot_macav2_monthly_midcentury_summary(element = "tmpc")
```


```{r midcentury-seasonal-temp-grid-normals, collapse=TRUE, results='hold', message=FALSE, warning=FALSE, cache=TRUE}
macav2_midcentury %>%
  mtd_plot_macav2_monthly_midcentury_summary(element = "tmpc",
                   use_normals = TRUE)
```


```{r midcentury-seasonal-temp-counties, collapse=TRUE, results='hold', message=FALSE, warning=FALSE, cache=TRUE}
macav2_midcentury %>%
  mtd_plot_macav2_monthly_midcentury_summary(element = "tmpc",
                   agg_sf = mt_counties_simple,
                   agg_sf_fun = median)
```


```{r midcenturyt-seasonal-temp-counties-normals, collapse=TRUE, results='hold', message=FALSE, warning=FALSE, cache=TRUE}
macav2_midcentury %>%
  mtd_plot_macav2_monthly_midcentury_summary(element = "tmpc",
                   agg_sf = mt_counties_simple,
                   agg_sf_fun = median,
                   use_normals = TRUE)
```

### <img src="icons/precipitation.svg" width="35px"/> Precipitation {-}


```{r midcentury-seasonal-prcp-grid, collapse=TRUE, results='hold', message=FALSE, warning=FALSE, cache=TRUE}
macav2_midcentury %>%
  mtd_plot_macav2_monthly_midcentury_summary(element = "pcpn")
```


```{r midcentury-seasonal-prcp-grid-normals, collapse=TRUE, results='hold', message=FALSE, warning=FALSE, cache=TRUE}
macav2_midcentury %>%
  mtd_plot_macav2_monthly_midcentury_summary(element = "pcpn",
                   use_normals = TRUE)
```


```{r midcentury-seasonal-prcp-counties, collapse=TRUE, results='hold', message=FALSE, warning=FALSE, cache=TRUE}
macav2_midcentury %>%
  mtd_plot_macav2_monthly_midcentury_summary(element = "pcpn",
                   agg_sf = mt_counties_simple,
                   agg_sf_fun = median)
```


```{r midcenturyt-seasonal-prcp-counties-normals, collapse=TRUE, results='hold', message=FALSE, warning=FALSE, cache=TRUE}
macav2_midcentury %>%
  mtd_plot_macav2_monthly_midcentury_summary(element = "pcpn",
                   agg_sf = mt_counties_simple,
                   agg_sf_fun = median,
                   use_normals = TRUE)
```

### <img src="icons/swe.svg" width="35px"/> Snowpack {-}
```{r midcentury-swe, collapse=TRUE, results='hide', message=FALSE, warning=FALSE, cache=TRUE}

midcentury_swe <- mtd_plot_midcentury_swe_basins(month = 4,
                                                 data_out = "../data/BCSD_mon_VIC")

midcentury_swe$map
```
